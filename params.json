{"name":"SLASH-7 JavaScript library","tagline":"","body":"# Getting started\r\n\r\n## コードスニペットの挿入\r\n\r\n以下のコードを body tag を閉じる直前 (`</body>` の直前) に書きます。\r\n`[YOUR TRACKING CODE]` にはあなたのプロジェクト用に発行された tracking code を入れてください。\r\n\r\n````\r\nvar slash7=slash7||[];(function(){var a=document.createElement(\"script\");a.type=\"text/javascript\";a.async=!0;a.src=(\"https:\"===document.location.protocol?\"https\":\"http\")+\"://d9nbmxmbhbtmj.cloudfront.net/v1/slash7.min.js\";var b=document.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(a,b);for(var a=function(a){return function(){slash7.push([a].concat(Array.prototype.slice.call(arguments,0)))}},b=[\"init\",\"identify\",\"track\",\"register\"],c=0;c<b.length;c++)slash7[b[c]]=a(b[c])})();\r\nslash7.init(\"[YOUR TRACKING CODE]\");\r\n````\r\n\r\n## イベントの送信\r\n\r\nイベントの送信は `slash7.track()` で行います。\r\n例えば `page_load` イベントを送信するには次のようにします。\r\n\r\n````\r\nslash7.track(\"page_load\");\r\n````\r\n\r\n### イベントパラメータ\r\n\r\nイベントパラメータは `slash7.track()` の第二引き数で指定します。\r\n例えば `url` をイベントパラメータとして指定してイベントを送信するには次のようにします。\r\n\r\n````\r\nslash7.track(\"page_load\", {url: window.location.href});\r\n````\r\n\r\n### 課金イベント\r\n\r\n課金イベントは `slash7.track()` の第三引き数で指定します。\r\n各 key の値については\r\n[Event log format](https://p-lucky.atlassian.net/wiki/display/PUB/Event+log+format)\r\nの Payment part を参照します。\r\n\r\n`_items` 内要素の `_name` を明示的に指定しない場合には `_item_id` の値が用いられます。\r\n`_total_price` を明示的に指定しない場合には `_items` の各要素の `_price * _num` の合計値が用いられます。\r\n\r\n````\r\nslash7.track(\r\n    \"payment\",\r\n    null,\r\n    {\r\n        _transact_id: \"transaction012345\",\r\n        _items: [\r\n            {\r\n                 _item_id: \"ITEM_A\",\r\n                 _price: 1000,\r\n                 _num: 1\r\n            }\r\n        ]\r\n    }\r\n);\r\n````\r\n\r\nイベントパラメータを指定しない場合には、第二引き数に `null` を渡します。\r\n\r\n## ユーザIDの指定\r\n\r\nユーザIDを JavaScript から指定することができます。\r\n\r\n初回はユーザIDがランダムに生成され、cookieに保存されます。\r\nそのため、異なるブラウザやコンピュータからアクセスした場合、同一ユーザでも異なるユーザIDで記録されます。\r\nまたバックエンドでもログを記録している場合、ランダムに生成されたユーザIDとバックエンドで記録しているアプリケーションのユーザIDを照合することは困難です。\r\nユーザIDを JavaScript から指定することで、指定したユーザIDを cookie に保存します。\r\n以降のイベント送信では保存されたユーザIDが使用されます。\r\n\r\nユーザIDを指定するには `slash7.identify()` を使います。\r\n\r\n````\r\nslash7.identify(\"user012345\");\r\n````\r\n\r\n## ユーザ属性\r\n\r\nユーザ属性は `slash7.register()` で指定します。\r\n指定されたユーザ属性は、次のイベント送信時にサーバへ送付されます。\r\nイベントを送付しなかった場合、指定したユーザ属性は失われるので注意してください。\r\n\r\n例えば userAgent, platform をユーザ属性として指定し、イベントを送付するには以下のようにします。\r\n\r\n````\r\nslash7.register({\r\n    userAgent: window.navigator.userAgent,\r\n    platform: window.navigator.platform\r\n});\r\nslash7.track(\"page_load\");\r\n````\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}